<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>·¥©–∏·¥®–∏·¥ã·¥Ñ  Ä·¥á ô·¥è Ä…¥</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
  <div class="header">
    <h1>·¥Ä·¥ß—å–±–æ ç: {{.AlbumID}}</h1>
    <div>
      <a href="/" class="upload-more">–Ω·¥Ä ·¥¶·¥ß·¥Ä ô–Ω—É—é</a>
      {{if .IsOwner}}
      <form action="/delete-album" method="POST" class="inline-form"
        onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –∞–ª—å–±–æ–º —Å–æ –≤—Å–µ–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏?')">
        <input type="hidden" name="album_id" value="{{.AlbumID}}">
        <button type="submit" class="delete-album-btn">—É–¥·¥Ä·¥ß–∏·¥õ—å ·¥Ä·¥ß—å–±–æ ç</button>
      </form>
      {{end}}
    </div>
  </div>

  {{if .IsOwner}}
  <div class="upload-container">
    <div class="upload-area" id="uploadArea">
      <div class="upload-icon">üìÅ</div>
      <div class="upload-text">·¥®·¥á·¥©·¥á·¥õ·¥Ä—â–∏·¥õ·¥á –∏–∑–æ–±·¥©·¥Ä–∂·¥á–Ω–∏—è ·¥Ñ—é–¥·¥Ä</div>
      <div class="upload-hint">–∏·¥ß–∏ –Ω·¥Ä–∂ ç–∏·¥õ·¥á –¥·¥ß—è  ô—ã–±–æ·¥©·¥Ä …∏·¥Ä–π·¥ß–æ ô</div>
    </div>
    <form action="/upload" method="post" enctype="multipart/form-data" id="imageUploadForm">
      <input type="hidden" name="album_id" value="{{.AlbumID}}">
      <input type="file" name="image" accept="image/*" multiple id="fileInput">
    </form>
  </div>
  {{end}}
  {{if .HasImages}}
  <div class="image-grid" id="imageGrid">
    {{range .Images}}
    <div class="image-item">
      <img src="/{{$.OwnerSessionID}}/{{$.AlbumID}}/{{.Filename}}" alt="{{.Filename}}">
      <div class="image-info">
        <div class="image-name">{{.Filename}}</div>
        <div>
          <button class="copy-btn"
            onclick="copyUrl('{{$.OwnerSessionID}}','{{$.AlbumID}}','{{.Filename}}',this)">·¥ã–æ·¥®–∏·¥©–æ ô·¥Ä·¥õ—å ·¥ú Ä ü</button>
          {{if $.IsOwner}}
          <button class="delete-btn"
            onclick="deleteImage('{{$.SessionID}}','{{$.AlbumID}}','{{.Filename}}',this)">—É–¥·¥Ä·¥ß–∏·¥õ—å</button>
          {{end}}
        </div>
      </div>
    </div>
    {{end}}
  </div>
  {{else}}
  <div class="empty-state">
    <div class="empty-icon">üì∑</div>
    <div class="empty-text">—É  ô·¥Ä·¥Ñ ·¥®–æ·¥ã·¥Ä –Ω·¥á·¥õ –∑·¥Ä·¥¶·¥©—É–∂·¥á–Ω–Ω—ã—Ö –∏–∑–æ–±·¥©·¥Ä–∂·¥á–Ω–∏–π</div>
    <a href="/" class="empty-link">–∑·¥Ä·¥¶·¥©—É–∑–∏·¥õ—å ·¥®·¥á·¥© ô–æ·¥á –∏–∑–æ–±·¥©·¥Ä–∂·¥á–Ω–∏·¥á</a>
  </div>
  {{end}}
  <script src="/static/common.js"></script>
</body>

</html>
